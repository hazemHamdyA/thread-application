import{_ as o}from"./ThreadEditor-e30da06b.js";import{_ as c,m as i,c as n,h as r,n as h,t as l,d as p,e as u,q as m,K as _,o as f}from"./index-600bec0e.js";import{a as S}from"./asyncDataStatues-4f9050e3.js";import"./AppFormField-d88df94d.js";const x={props:{id:{type:String,required:!0}},mixins:[S],data:()=>({}),computed:{...i(m),...i(_),thread(){return this.threadsStore.items.find(t=>t.id===this.id)??{}},text(){var t;return(t=this.postsStore.items.find(a=>{var s;return a.id===((s=this.thread)==null?void 0:s.posts[0])}))==null?void 0:t.text}},methods:{async save({title:t,text:a}){await this.threadsStore.updateThread({id:this.id,title:t,text:a}),this.$router.push(`/thread/${this.id}`)},cancle(){this.$router.push({name:"thread",params:{id:this.thread.id}})}},async created(){const t=await this.threadsStore.featchThread(this.id);await this.postsStore.featchPost(t==null?void 0:t.posts[0]),this.asyncDataStatues_featched()}},y={key:0,class:"container"},v={class:"col-full push-top"};function T(t,a,s,D,E,e){const d=o;return t.asyncDataStatues_isReady?(f(),n("div",y,[r("div",v,[r("h1",null,[h(" Edit "),r("i",null,l(e.thread.title),1)]),p(d,{title:e.thread.title,text:e.text,onSave:e.save,onCancle:e.cancle},null,8,["title","text","onSave","onCancle"])])])):u("",!0)}const B=c(x,[["render",T]]);export{B as default};
